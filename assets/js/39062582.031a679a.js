(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{102:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return m}));var n=a(0),o=a.n(n);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var c=o.a.createContext({}),d=function(e){var t=o.a.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=d(e.components);return o.a.createElement(c.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},u=o.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),p=d(a),u=n,m=p["".concat(s,".").concat(u)]||p[u]||b[u]||r;return a?o.a.createElement(m,i(i({ref:t},c),{},{components:a})):o.a.createElement(m,i({ref:t},c))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,s=new Array(r);s[0]=u;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:n,s[1]=i;for(var c=2;c<r;c++)s[c]=a[c];return o.a.createElement.apply(null,s)}return o.a.createElement.apply(null,a)}u.displayName="MDXCreateElement"},79:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return s})),a.d(t,"metadata",(function(){return i})),a.d(t,"toc",(function(){return l})),a.d(t,"default",(function(){return d}));var n=a(3),o=a(7),r=(a(0),a(102)),s={sidebar_position:2},i={unversionedId:"tutorial-basics/deploy-local",id:"tutorial-basics/deploy-local",isDocsHomePage:!1,title:"Running Doodler on a PC for your own use",description:"These brief instructions are for regular python and command line users.",source:"@site/docs/tutorial-basics/deploy-local.md",sourceDirName:"tutorial-basics",slug:"/tutorial-basics/deploy-local",permalink:"/dash_doodler/docs/tutorial-basics/deploy-local",editUrl:"https://github.com/dbuscombe-usgs/dash_doodler/edit/master/website/docs/tutorial-basics/deploy-local.md",version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"How to Doodle",permalink:"/dash_doodler/docs/tutorial-basics/how-to-doodle"},next:{title:"Frequently Asked Questions",permalink:"/dash_doodler/docs/tutorial-basics/faqs"}},l=[{value:"Install",id:"install",children:[]},{value:"Use",id:"use",children:[]},{value:"Ongoing use and maintenance",id:"ongoing-use-and-maintenance",children:[]}],c={toc:l};function d(e){var t=e.components,a=Object(o.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},c,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"These brief instructions are for regular python and command line users."),Object(r.b)("p",null,"Doodler is a python program that is designed to run within a conda environment, accessed from the command line (terminal). It is designed to work on all modern Windows, Mac OS X, and Linux distributions, with python 3.6 or greater. It therefore requires some familiarity with process of navigating to a directory, and running a python script from a command line interface such as a Anaconda prompt terminal window, Powershell terminal window, git bash shell, or other terminal/command line interface."),Object(r.b)("p",null,"The following instructions assume you are using the popular (and free) Anaconda or Miniconda python distribution."),Object(r.b)("h2",{id:"install"},"Install"),Object(r.b)("p",null,"Clone/download this repository"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-shell"},"git clone --depth 1 https://github.com/dbuscombe-usgs/dash_doodler.git\n\ncd dash_doodler\n")),Object(r.b)("p",null,"Install the requirements"),Object(r.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(r.b)("div",{parentName:"div",className:"admonition-heading"},Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",{parentName:"h5",className:"admonition-icon"},Object(r.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},Object(r.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Tip")),Object(r.b)("div",{parentName:"div",className:"admonition-content"},Object(r.b)("p",{parentName:"div"},"If you are a regular conda user, now would be a good time to"),Object(r.b)("pre",{parentName:"div"},Object(r.b)("code",{parentName:"pre",className:"language-shell"},"conda clean --all\nconda update conda\nconda update anaconda\n")))),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-shell"},"conda env create --file install/dashdoodler.yml\nconda activate dashdoodler\n")),Object(r.b)("div",{className:"admonition admonition-danger alert alert--danger"},Object(r.b)("div",{parentName:"div",className:"admonition-heading"},Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",{parentName:"h5",className:"admonition-icon"},Object(r.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},Object(r.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"Tip")),Object(r.b)("div",{parentName:"div",className:"admonition-content"},Object(r.b)("p",{parentName:"div"},"If (and only if) the above doesn't work, try this:"),Object(r.b)("pre",{parentName:"div"},Object(r.b)("code",{parentName:"pre",className:"language-shell"},"conda create --name dashdoodler python=3.6\nconda activate dashdoodler\nconda install -c conda-forge pydensecrf cairo\npip install -r install/requirements.txt\n")))),Object(r.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(r.b)("div",{parentName:"div",className:"admonition-heading"},Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",{parentName:"h5",className:"admonition-icon"},Object(r.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},Object(r.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Tip")),Object(r.b)("div",{parentName:"div",className:"admonition-content"},Object(r.b)("p",{parentName:"div"},"If you are a Windows user (only) who wishes to use unix style commands, install m2-base"),Object(r.b)("pre",{parentName:"div"},Object(r.b)("code",{parentName:"pre",className:"language-shell"},"conda install m2-base\n")))),Object(r.b)("p",null,"A video is available that covers the installation process:"),Object(r.b)("p",null,"INSERT VIDEO HERE"),Object(r.b)("h2",{id:"use"},"Use"),Object(r.b)("p",null,"After setting up that environment, create a classes.txt file that tells the program what classes will be labeled (and what buttons to create). The minimum number of classes is 2. The maximum number of classes allowed is 24. The images that you upload will go into the assets/ folder. The labels images you create are written to the results folder."),Object(r.b)("p",null,"Move your images into the assets folder. For the moment, they must be jpegs with the .jpg extension. Support for other image types forthcoming ..."),Object(r.b)("p",null,"Run the app. An IP address where you can view the app in your browser will be displayed in the terminal. Some browsers will launch automatically, while others you may have to manually type (or copy/paste) the IP address into a browser. Tested so far with Chrome, Firefox, and Edge."),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-shell"},"python doodler.py\n")),Object(r.b)("p",null,"Open a browser and go to 127.0.0.1:8050. You may have to hit the refresh button. If, after some time doodling things seem odd or buggy, sometimes a browser refresh will fix those glitches."),Object(r.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(r.b)("div",{parentName:"div",className:"admonition-heading"},Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",{parentName:"h5",className:"admonition-icon"},Object(r.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},Object(r.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"My tip")),Object(r.b)("div",{parentName:"div",className:"admonition-content"},Object(r.b)("p",{parentName:"div"},"Doodler is web application that is accessed on your web browser at 127.0.0.1:8050"))),Object(r.b)("p",null,"Results (label images and annotation images) are saved to the results/ folder. The program creates a subfolder each time it is launched, timestamped. That folder contains your results images for a session."),Object(r.b)("p",null,"The default colormap is plotly's G10, found here. The hex (rgb) color sequence is:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-shell"},"    #3366CC (51, 102, 204)\n    #DC3912 (220, 57, 18)\n    #FF9900 (255, 153, 0)\n    #109618 (16, 150, 24)\n    #990099 (153, 0, 153)\n    #0099C6 (0, 153, 198)\n    #DD4477 (221, 68, 119)\n    #66AA00 (102, 170, 0)\n    #B82E2E (184, 46, 46)\n    #316395 (49, 99, 149)\n")),Object(r.b)("p",null,"(you can google search those hex codes and get a color picker view). If you have more than 10 classes, the program uses Light24 instead. This will give you up to 24 classes. Remember to keep your class names short, so the buttons all fit on the screen!"),Object(r.b)("h2",{id:"ongoing-use-and-maintenance"},"Ongoing use and maintenance"),Object(r.b)("p",null,"Occasionally, the software is updated. If you watch the repository on github, you can receive alerts about when this happens."),Object(r.b)("p",null,"It is best practice to move your images from ",Object(r.b)("inlineCode",{parentName:"p"},"assets")," and ",Object(r.b)("inlineCode",{parentName:"p"},"labeled")," folders, and outputs from ",Object(r.b)("inlineCode",{parentName:"p"},"results")," and ",Object(r.b)("inlineCode",{parentName:"p"},"logs"),"."),Object(r.b)("p",null,"For most users who have not modified the contents from the last ",Object(r.b)("inlineCode",{parentName:"p"},"git pull"),", to update should be a simple matter of carrying out another"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-shell"},"git pull\n")),Object(r.b)("p",null,"However, when you have changes on your working copy, from command line use git stash:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-shell"},"git stash\n")),Object(r.b)("p",null,"If you need to see what is in your stash, use:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-shell"},"git stash list\n")),Object(r.b)("p",null,"This will stash your changes and clear your status report. Next do:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-shell"},"git pull\n")),Object(r.b)("p",null,"This will apply stashed changes back to working copy and remove the changes from stash unless you have conflicts. In the case of conflict, they will stay in stash so you can start over if needed:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-shell"},"git stash pop\n")),Object(r.b)("p",null,"A one-liner with no stash checking is:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-shell"},"git stash && git pull && git stash pop\n")),Object(r.b)("p",null,"Please do not use the Doodler issues tab to ask questions for how to use ",Object(r.b)("inlineCode",{parentName:"p"},"git")," - they will be closed. Learn how to use git, or move your files out of the Doodler folder structure."))}d.isMDXComponent=!0}}]);