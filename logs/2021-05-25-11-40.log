INFO:botocore.credentials:Found credentials in shared credentials file: ~/.aws/credentials
INFO:root:25-05-2021-11-40-48
INFO:root:loaded class labels:
INFO:root:water
INFO:root:land
INFO:root:25-05-2021-11-40-48
INFO:root:Folder created: results/results2021-05-25-11-40
INFO:root:25-05-2021-11-40-48
INFO:root:Results will be written to results/results2021-05-25-11-40
INFO:root:25-05-2021-11-40-49
INFO:root:loaded files:
INFO:root:assets/CAM001_20180910140059_75-0-0.jpg
INFO:root:assets/CAM001_20180910140101_75-2-0.jpg
INFO:root:assets/CAM001_20180910140101_75-2-1.jpg
INFO:root:assets/CAM001_20180910140111_75-2-0.jpg
INFO:root:assets/CAM001_20180910140114_75-0-1.jpg
INFO:root:assets/CAM001_20180910140141_75-2-3.jpg
INFO:root:assets/CAM001_20180910140156_75-2-1.jpg
INFO:root:assets/CAM001_20180910140214_75-0-0.jpg
INFO:root:assets/CAM001_20180910140538_75-2-3.jpg
INFO:root:assets/CAM001_20190304163712_30lr-2-2.jpg
INFO:root:assets/CAM001_20200120133854_35lr-0-3.jpg
INFO:root:assets/CAM432_20170125222647_30-0-0.jpg
INFO:werkzeug: * Running on http://127.0.0.1:8050/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [25/May/2021 11:40:49] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2021 11:40:49] "GET /_dash-layout HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2021 11:40:49] "GET /_dash-dependencies HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2021 11:40:49] "GET /_favicon.ico?v=1.12.0 HTTP/1.1" 200 -
INFO:root:25-05-2021-11-40-50
INFO:root:File list written to files_done.txt
INFO:werkzeug:127.0.0.1 - - [25/May/2021 11:40:50] "POST /_dash-update-component HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2021 11:40:50] "GET /assets/CAM001_20190304163712_30lr-2-2.jpg HTTP/1.1" 200 -
INFO:root:25-05-2021-11-40-50
INFO:root:File list written to files_done.txt
INFO:werkzeug:127.0.0.1 - - [25/May/2021 11:40:50] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 204 -
INFO:root:25-05-2021-11-40-52
INFO:root:File list written to files_done.txt
INFO:werkzeug:127.0.0.1 - - [25/May/2021 11:40:52] "POST /_dash-update-component HTTP/1.1" 200 -
INFO:root:25-05-2021-11-40-53
INFO:root:File list written to files_done.txt
INFO:werkzeug:127.0.0.1 - - [25/May/2021 11:40:53] "POST /_dash-update-component HTTP/1.1" 200 -
INFO:root:25-05-2021-11-40-54
INFO:root:File list written to files_done.txt
INFO:root:25-05-2021-11-40-54
INFO:root:Saving RF model to RandomForestClassifier_water_land.pkl.z
INFO:root:25-05-2021-11-40-54
INFO:root:Saving data features to RandomForestClassifier_water_land.pkl.z
INFO:root:25-05-2021-11-40-54
INFO:root:Image standardized
INFO:root:25-05-2021-11-40-54
INFO:root:examples provided of 0
INFO:root:examples provided of 1
INFO:root:25-05-2021-11-40-54
INFO:root:Only one class annotation provided, skipping RF and CRF and coding all pixels 1
INFO:root:25-05-2021-11-40-54
INFO:root:RGB label image saved to results/results2021-05-25-11-40/CAM001_20190304163712_30lr-2-2_label2021-05-25-11-40_Enter-user-ID.png
INFO:root:25-05-2021-11-40-54
INFO:root:Numpy arrays saved to results/results2021-05-25-11-40/CAM001_20190304163712_30lr-2-2_Enter-user-ID.npz
INFO:werkzeug:127.0.0.1 - - [25/May/2021 11:40:55] "POST /_dash-update-component HTTP/1.1" 200 -
INFO:root:25-05-2021-11-40-56
INFO:root:File list written to files_done.txt
INFO:werkzeug:127.0.0.1 - - [25/May/2021 11:40:56] "POST /_dash-update-component HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/May/2021 11:40:56] "GET /assets/CAM001_20180910140324_70-0-0.jpg HTTP/1.1" 200 -
INFO:root:25-05-2021-11-41-02
INFO:root:File list written to files_done.txt
INFO:werkzeug:127.0.0.1 - - [25/May/2021 11:41:02] "POST /_dash-update-component HTTP/1.1" 200 -
INFO:root:25-05-2021-11-41-03
INFO:root:File list written to files_done.txt
INFO:werkzeug:127.0.0.1 - - [25/May/2021 11:41:03] "POST /_dash-update-component HTTP/1.1" 200 -
INFO:root:25-05-2021-11-41-05
INFO:root:File list written to files_done.txt
INFO:werkzeug:127.0.0.1 - - [25/May/2021 11:41:05] "POST /_dash-update-component HTTP/1.1" 200 -
INFO:root:25-05-2021-11-41-10
INFO:root:File list written to files_done.txt
INFO:werkzeug:127.0.0.1 - - [25/May/2021 11:41:10] "POST /_dash-update-component HTTP/1.1" 200 -
INFO:root:25-05-2021-11-41-12
INFO:root:File list written to files_done.txt
INFO:werkzeug:127.0.0.1 - - [25/May/2021 11:41:12] "POST /_dash-update-component HTTP/1.1" 200 -
INFO:root:25-05-2021-11-41-13
INFO:root:File list written to files_done.txt
INFO:root:25-05-2021-11-41-13
INFO:root:Saving RF model to RandomForestClassifier_water_land.pkl.z
INFO:root:25-05-2021-11-41-13
INFO:root:Saving data features to RandomForestClassifier_water_land.pkl.z
INFO:root:25-05-2021-11-41-15
INFO:root:Image standardized
INFO:root:25-05-2021-11-41-15
INFO:root:examples provided of 0
INFO:root:examples provided of 1
INFO:root:examples provided of 2
INFO:root:25-05-2021-11-41-15
INFO:root:Extracting features from channel 0
INFO:root:25-05-2021-11-41-17
INFO:root:Extracting features from channel 1
INFO:root:25-05-2021-11-41-18
INFO:root:Extracting features from channel 2
INFO:root:25-05-2021-11-41-19
INFO:root:Feature extraction complete
INFO:root:25-05-2021-11-41-19
INFO:root:Using 3 decision trees per image
INFO:root:25-05-2021-11-41-19
INFO:root:Updating existing RF classifier
INFO:root:25-05-2021-11-41-19
INFO:root:Initializing RF model
INFO:root:25-05-2021-11-41-20
INFO:root:RF model fit to data
INFO:root:25-05-2021-11-41-20
INFO:root:Model saved to RandomForestClassifier_water_land.pkl.z
INFO:root:25-05-2021-11-41-20
INFO:root:Data saved to data_water_land.pkl.z
INFO:root:25-05-2021-11-41-20
INFO:root:Model used on data to estimate labels
INFO:root:25-05-2021-11-41-20
INFO:root:RF feature extraction and model fitting complete
INFO:root:25-05-2021-11-41-20
INFO:root:One-hot labels filtered
INFO:root:25-05-2021-11-41-21
INFO:root:One-hot labels spatially filtered
INFO:root:25-05-2021-11-41-21
INFO:root:Spatially filtered values inpainted
INFO:root:25-05-2021-11-41-21
INFO:root:RF model applied with sigma range 1.000000 : 16.000000
ERROR:minimal_doodler_server:Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "/home/marda/anaconda3/envs/dashdoodler/lib/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/marda/anaconda3/envs/dashdoodler/lib/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/marda/anaconda3/envs/dashdoodler/lib/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/home/marda/anaconda3/envs/dashdoodler/lib/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/home/marda/anaconda3/envs/dashdoodler/lib/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/marda/anaconda3/envs/dashdoodler/lib/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/marda/anaconda3/envs/dashdoodler/lib/python3.6/site-packages/dash/dash.py", line 1032, in dispatch
    response.set_data(func(*args, outputs_list=outputs_list))
  File "/home/marda/anaconda3/envs/dashdoodler/lib/python3.6/site-packages/dash/dash.py", line 967, in add_context
    output_value = func(*args, **kwargs)  # %% callback invoked %%
  File "minimal_doodler_server.py", line 731, in update_output
    multichannel, intensity, edges, texture,#n_estimators, # sigma_range_slider_value[0], sigma_range_slider_value[1],
  File "minimal_doodler_server.py", line 329, in show_segmentation
    label_to_colors_args=label_to_colors_args,
  File "src/annotations_to_segmentations.py", line 258, in compute_segmentations
    sigma_min, sigma_max, n_estimators)
  File "src/image_segmentation.py", line 557, in segmentation
    w = Parallel(n_jobs=-2, verbose=0)(delayed(tta_crf_int)(img, result, k) for k in np.linspace(0,int(img.shape[0])/5,num_tta))
  File "/home/marda/anaconda3/envs/dashdoodler/lib/python3.6/site-packages/joblib/parallel.py", line 1061, in __call__
    self.retrieve()
  File "/home/marda/anaconda3/envs/dashdoodler/lib/python3.6/site-packages/joblib/parallel.py", line 940, in retrieve
    self._output.extend(job.get(timeout=self.timeout))
  File "/home/marda/anaconda3/envs/dashdoodler/lib/python3.6/site-packages/joblib/_parallel_backends.py", line 542, in wrap_future_result
    return future.result(timeout=timeout)
  File "/home/marda/anaconda3/envs/dashdoodler/lib/python3.6/concurrent/futures/_base.py", line 432, in result
    return self.__get_result()
  File "/home/marda/anaconda3/envs/dashdoodler/lib/python3.6/concurrent/futures/_base.py", line 384, in __get_result
    raise self._exception
ValueError: attempt to get argmax of an empty sequence
INFO:werkzeug:127.0.0.1 - - [25/May/2021 11:41:23] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 500 -
